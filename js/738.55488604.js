"use strict";(self["webpackChunkmall_mogujie"]=self["webpackChunkmall_mogujie"]||[]).push([[738],{6572:function(t,e,r){r.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty",style:t.height},[e("div",{staticClass:"content"},[t._t("default")],2)])},a=[],i={name:"Empty",props:{height:{type:String,default:"height: 100%;"}}},n=i,c=r(3736),l=(0,c.Z)(n,s,a,!1,null,"0240dcd4",null),o=l.exports},5903:function(t,e,r){r.r(e),r.d(e,{default:function(){return K}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"category"}},[e("nav-bar",{staticClass:"category-nav-bar"},[e("div",{attrs:{slot:"center"},slot:"center"},[t._v("分类")])]),t.categoryList?e("div",{staticClass:"container"},[e("category-left",{ref:"mainCategory",attrs:{clist:t.categoryList},on:{change:t.changeCategory}}),e("category-right",{ref:"subCategory",attrs:{sList:t.categoryItem}})],1):e("empty",{staticClass:"empty-container"},[e("i",{staticClass:"iconfont icon-cart"}),e("span",[t._v("分类是空的哦！")])])],1)},a=[],i=r(8641),n=r(6572),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-left"},[e("scroll",{ref:"scroller",staticClass:"scroll"},[e("ul",{staticClass:"left-container"},t._l(t.clist,(function(r,s){return e("li",{key:r.maitKey,class:{active:s===t.currentIndex},on:{click:function(e){return t.clickCategory(r,s)}}},[t._v(t._s(r.title))])})),0)])],1)},l=[],o=r(4337),u={name:"CategoryLeft",components:{Scroll:o.Z},data(){return{currentIndex:0}},props:{clist:{type:Array,default:[]}},methods:{clickCategory(t,e){this.currentIndex=e,this.$emit("change",t.maitKey)},refresh(){this.$refs.scroller.refresh()}}},y=u,g=r(3736),h=(0,g.Z)(y,c,l,!1,null,"06002739",null),f=h.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-right"},[e("scroll",{ref:"scroller",staticClass:"scroll"},[e("ul",{staticClass:"right-container"},t._l(t.sList,(function(r,s){return e("li",{key:r.acm,on:{click:function(e){return t.clickItem(r,s)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:r.image,expression:"item.image"}],attrs:{alt:""}}),e("p",[t._v(t._s(r.title))])])})),0)])],1)},d=[],C={name:"CategoryRight",components:{Scroll:o.Z},props:{sList:{type:Array,default:[]}},methods:{clickItem(t,e){console.log(e)},refresh(){this.$refs.scroller.refresh()}}},p=C,v=(0,g.Z)(p,m,d,!1,null,"02000f13",null),_=v.exports,k=r(7707);function L(){return(0,k.d)({method:"GET",url:"/category"})}function b(t){return(0,k.d)({method:"GET",url:"/subcategory",params:{maitKey:t}})}var Z={name:"Category",data(){return{categoryList:null,categoryItem:null,maitKey:null}},components:{NavBar:i.Z,Empty:n.Z,CategoryLeft:f,CategoryRight:_},created(){L().then((t=>{this.categoryList=t.data.category.list,this.categoryList&&this.categoryList.length>0&&(this.maitKey=this.categoryList[0].maitKey,this.getSubCategory(this.maitKey),setTimeout((()=>{this.$refs.mainCategory.refresh()}),200),setTimeout((()=>{this.$refs.subCategory.refresh()}),200))}))},methods:{async getSubCategory(t){return await b(t).then((t=>(this.categoryItem=t.data.list,t.data.list)))},changeCategory(t){this.maitKey=t,this.getSubCategory(t).then((()=>{this.$refs.subCategory.refresh()}))}}},x=Z,I=(0,g.Z)(x,s,a,!1,null,"624f8e29",null),K=I.exports}}]);
//# sourceMappingURL=738.55488604.js.map